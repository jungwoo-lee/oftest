** START TEST CASE match.IPv4ICMPCode
Create/listen at 150.225.14.201:6653
150.225.14.201:6653: Incoming connection from ('150.225.14.207', 60588)
----- Command 0 -----
hello { xid = 0xd05898ae, elements = [ ] }

Connected ('150.225.14.207', 60588)
----- Command 1 -----
features_request { xid = 0xdea2c464 }

Running match test for match_v3 {
  oxm_list = [
    eth_type { value = 0x800 },
    ip_proto { value = 0x1 },
    icmpv4_code { value = 0x2 }
  ]
}
Deleting all flows
----- Command 2 -----
flow_delete {
  xid = 0xc8eb05b6,
  cookie = 0x0,
  cookie_mask = 0x0,
  table_id = 0xff,
  idle_timeout = 0x0,
  hard_timeout = 0x0,
  priority = 0x0,
  buffer_id = 0xffffffff,
  out_port = OFPP_ANY,
  out_group = 0xffffffff,
  flags = 0x0,
  match = match_v3 { oxm_list = [ ] },
  instructions = [ ]
}

----- Command 3 -----
barrier_request { xid = 0x89ed7798 }

Inserting flow sending matching packets to port 5
----- Command 4 -----
flow_add {
  xid = 0x2a241373,
  cookie = 0x0,
  cookie_mask = 0x0,
  table_id = 0x0,
  idle_timeout = 0x0,
  hard_timeout = 0x0,
  priority = 0x3e8,
  buffer_id = 0xffffffff,
  out_port = 0,
  out_group = 0x0,
  flags = 0x0,
  match = match_v3 { oxm_list = [ eth_type { value = 0x800 }, ip_proto { value = 0x1 }, icmpv4_code { value = 0x2 } ] },
  instructions = [ apply_actions { actions = [ output { port = 5, max_len = 0xffff } ] } ]
}

----- Command 5 -----
echo_reply { xid = 0x0, data = '' }

Inserting match-all flow sending packets to controller
----- Command 6 -----
flow_add {
  xid = 0x8ac8f3e1,
  cookie = 0x0,
  cookie_mask = 0x0,
  table_id = 0x0,
  idle_timeout = 0x0,
  hard_timeout = 0x0,
  priority = 0x1,
  buffer_id = 0xffffffff,
  out_port = 0,
  out_group = 0x0,
  flags = 0x0,
  match = match_v3 { oxm_list = [ ] },
  instructions = [ apply_actions { actions = [ output { port = OFPP_CONTROLLER, max_len = 0xffff } ] } ]
}

----- Command 7 -----
barrier_request { xid = 0x66d8c825 }

Sending matching packet 'type=5 code=2', expecting output to port 5
Sending matching packet 'type=3 code=2', expecting output to port 5
Sending non-matching packet 'type=2 code=1', expecting packet-in
Ignoring listen soc shutdown error
Exiting controller thread
Ignoring switch soc shutdown error
Ignoring listen soc shutdown error
** END TEST CASE match.IPv4ICMPCode
*** TEST RUN END  : Tue May 27 13:38:13 2014
Thread exit
