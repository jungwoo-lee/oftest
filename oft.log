15:55:59.765  root      : INFO    : ** START TEST CASE match.IPv4ICMPCode
15:55:59.765  controller: INFO    : Create/listen at 150.225.14.201:6653
15:56:01.409  controller: INFO    : 150.225.14.201:6653: Incoming connection from ('150.225.14.207', 58840)
15:56:01.409  controller: DEBUG   : Msg out: version 4 class hello len 8 xid 2096166941
15:56:01.409  controller: DEBUG   : (message type = 0)
15:56:01.409  controller: INFO    : ----- Message Sent By Controller (not a test step) -----
15:56:01.409  controller: INFO    : hello { xid = 0x7cf0f81d, elements = [ ] }

15:56:01.410  controller: DEBUG   : Msg in: version 4 class hello len 8 xid 55
15:56:01.430  root      : INFO    : Connected ('150.225.14.207', 58840)
15:56:01.431  controller: DEBUG   : Running transaction 1475454698
15:56:01.431  controller: DEBUG   : Msg out: version 4 class features_request len 8 xid 1475454698
15:56:01.431  controller: DEBUG   : (message type = 5)
15:56:01.431  controller: INFO    : ----- Message Sent By Controller (not a test step) -----
15:56:01.431  controller: INFO    : features_request { xid = 0x57f1a6ea }

15:56:01.431  controller: DEBUG   : Waiting for transaction 1475454698
15:56:01.431  controller: DEBUG   : Msg in: version 4 class features_reply len 32 xid 1475454698
15:56:01.432  controller: DEBUG   : Matched expected XID 1475454698
15:56:01.442  root      : INFO    : Running match test for match_v3 {
  oxm_list = [
    eth_type { value = 0x800 },
    ip_proto { value = 0x1 },
    icmpv4_code { value = 0x2 }
  ]
}
15:56:01.443  root      : INFO    : (Deleting all flows)
15:56:01.443  controller: DEBUG   : Msg out: version 4 class flow_delete len 56 xid 2454731207
15:56:01.443  controller: DEBUG   : (message type = 14)
15:56:01.443  controller: INFO    : ----- Test Step 1 -----
15:56:01.443  controller: INFO    : flow_delete {
  xid = 0x925039c7,
  cookie = 0x0,
  cookie_mask = 0x0,
  table_id = 0xff,
  idle_timeout = 0x0,
  hard_timeout = 0x0,
  priority = 0x0,
  buffer_id = 0xffffffff,
  out_port = OFPP_ANY,
  out_group = 0xffffffff,
  flags = 0x0,
  match = match_v3 { oxm_list = [ ] },
  instructions = [ ]
}

15:56:01.443  controller: DEBUG   : Running transaction 3554289407
15:56:01.444  controller: DEBUG   : Msg out: version 4 class barrier_request len 8 xid 3554289407
15:56:01.444  controller: DEBUG   : (message type = 20)
15:56:01.444  controller: INFO    : ----- Test Step 2 -----
15:56:01.444  controller: INFO    : barrier_request { xid = 0xd3da26ff }

15:56:01.444  controller: DEBUG   : Waiting for transaction 3554289407
15:56:01.445  controller: DEBUG   : Msg in: version 4 class barrier_reply len 8 xid 3554289407
15:56:01.445  controller: DEBUG   : Matched expected XID 3554289407
15:56:01.447  root      : INFO    : (Inserting flow sending matching packets to port 5)
15:56:01.447  controller: DEBUG   : Msg out: version 4 class flow_add len 96 xid 1957802978
15:56:01.448  controller: DEBUG   : (message type = 14)
15:56:01.448  controller: INFO    : ----- Test Step 3 -----
15:56:01.449  controller: INFO    : flow_add {
  xid = 0x74b1b3e2,
  cookie = 0x0,
  cookie_mask = 0x0,
  table_id = 0x0,
  idle_timeout = 0x0,
  hard_timeout = 0x0,
  priority = 0x3e8,
  buffer_id = 0xffffffff,
  out_port = 0,
  out_group = 0x0,
  flags = 0x0,
  match = match_v3 { oxm_list = [ eth_type { value = 0x800 }, ip_proto { value = 0x1 }, icmpv4_code { value = 0x2 } ] },
  instructions = [ apply_actions { actions = [ output { port = 5, max_len = 0xffff } ] } ]
}

15:56:06.408  controller: DEBUG   : Msg in: version 4 class echo_request len 8 xid 0
15:56:06.409  controller: DEBUG   : Responding to echo request
15:56:06.409  controller: DEBUG   : Msg out: version 4 class echo_reply len 8 xid 0
15:56:06.409  controller: DEBUG   : (message type = 3)
15:56:06.409  controller: INFO    : ----- Message Sent By Controller (not a test step) -----
15:56:06.409  controller: INFO    : echo_reply { xid = 0x0, data = '' }

15:56:06.451  root      : INFO    : (Inserting match-all flow sending packets to controller)
15:56:06.451  controller: DEBUG   : Msg out: version 4 class flow_add len 80 xid 878322010
15:56:06.452  controller: DEBUG   : (message type = 14)
15:56:06.452  controller: INFO    : ----- Test Step 4 -----
15:56:06.452  controller: INFO    : flow_add {
  xid = 0x345a215a,
  cookie = 0x0,
  cookie_mask = 0x0,
  table_id = 0x0,
  idle_timeout = 0x0,
  hard_timeout = 0x0,
  priority = 0x1,
  buffer_id = 0xffffffff,
  out_port = 0,
  out_group = 0x0,
  flags = 0x0,
  match = match_v3 { oxm_list = [ ] },
  instructions = [ apply_actions { actions = [ output { port = OFPP_CONTROLLER, max_len = 0xffff } ] } ]
}

15:56:06.452  controller: DEBUG   : Running transaction 4010560485
15:56:06.453  controller: DEBUG   : Msg out: version 4 class barrier_request len 8 xid 4010560485
15:56:06.453  controller: DEBUG   : (message type = 20)
15:56:06.453  controller: INFO    : ----- Test Step 5 -----
15:56:06.453  controller: INFO    : barrier_request { xid = 0xef0c4be5 }

15:56:06.453  controller: DEBUG   : Waiting for transaction 4010560485
15:56:06.455  controller: DEBUG   : Msg in: version 4 class barrier_reply len 8 xid 4010560485
15:56:06.455  controller: DEBUG   : Matched expected XID 4010560485
15:56:06.457  root      : INFO    : ----- Test Step 6 -----
15:56:06.457  root      : INFO    : Sending matching packet 'type=5 code=2', expecting output to port 5
15:56:06.457  root      : INFO    : 
	ICMP packet : 
		eth_dst = 00:01:02:03:04:05
		eth_src = 00:06:07:08:09:0a
		dl_vlan_enable = False
		vlan_vid = 0
		vlan_pcp = 0
		ip_src = 192.168.0.1
		ip_dst = 192.168.0.2
		ip_tos = 0
		ip_ttl = 64
		ip_id = 1
		icmp_type = 5
		icmp_code = 2
		icmp_data = 

15:56:06.458  dataplane : DEBUG   : Sending 60 bytes to port 4
15:56:06.458  root      : DEBUG   : Checking for pkt on port 5
15:56:06.458  dataplane : DEBUG   : Grabbing packet
15:56:06.458  dataplane : DEBUG   : Out of packets on port 5
15:56:06.458  dataplane : DEBUG   : Did not find packet
15:56:06.459  dataplane : DEBUG   : Pkt len 60 in on port 5
15:56:06.460  dataplane : DEBUG   : Grabbing packet
15:56:06.460  dataplane : DEBUG   : Checking packet from port 5
15:56:06.460  dataplane : DEBUG   : matched Packet length 60 

0000  00 01 02 03 04 05 00 06 07 08 09 0a 08 00 45 00  ..............E.
0010  00 2e 00 01 00 00 40 01 f9 7a c0 a8 00 01 c0 a8  ......@..z......
0020  00 02 05 02 49 4c 00 00 00 00 30 30 30 30 30 30  ....IL....000000
0030  30 30 30 30 30 30 30 30 30 30 30 30              000000000000

15:56:06.460  root      : INFO    : ----- Test Step 7 -----
15:56:06.460  root      : INFO    : Sending matching packet 'type=3 code=2', expecting output to port 5
15:56:06.460  root      : INFO    : 
	ICMP packet : 
		eth_dst = 00:01:02:03:04:05
		eth_src = 00:06:07:08:09:0a
		dl_vlan_enable = False
		vlan_vid = 0
		vlan_pcp = 0
		ip_src = 192.168.0.1
		ip_dst = 192.168.0.2
		ip_tos = 0
		ip_ttl = 64
		ip_id = 1
		icmp_type = 3
		icmp_code = 2
		icmp_data = 

15:56:06.462  dataplane : DEBUG   : Sending 60 bytes to port 4
15:56:06.462  root      : DEBUG   : Checking for pkt on port 5
15:56:06.462  dataplane : DEBUG   : Pkt len 60 in on port 5
15:56:06.462  dataplane : DEBUG   : Grabbing packet
15:56:06.462  dataplane : DEBUG   : Checking packet from port 5
15:56:06.462  dataplane : DEBUG   : matched Packet length 60 

0000  00 01 02 03 04 05 00 06 07 08 09 0a 08 00 45 00  ..............E.
0010  00 2e 00 01 00 00 40 01 f9 7a c0 a8 00 01 c0 a8  ......@..z......
0020  00 02 03 02 4b 4c 00 00 00 00 30 30 30 30 30 30  ....KL....000000
0030  30 30 30 30 30 30 30 30 30 30 30 30              000000000000

15:56:06.463  root      : INFO    : ----- Test Step 8 -----
15:56:06.463  root      : INFO    : Sending non-matching packet 'type=2 code=1', expecting packet-in
15:56:06.463  root      : INFO    : 
	ICMP packet : 
		eth_dst = 00:01:02:03:04:05
		eth_src = 00:06:07:08:09:0a
		dl_vlan_enable = False
		vlan_vid = 0
		vlan_pcp = 0
		ip_src = 192.168.0.1
		ip_dst = 192.168.0.2
		ip_tos = 0
		ip_ttl = 64
		ip_id = 1
		icmp_type = 3
		icmp_code = 2
		icmp_data = 

15:56:06.464  dataplane : DEBUG   : Sending 60 bytes to port 4
15:56:06.465  controller: DEBUG   : Polling for packet_in
15:56:06.465  controller: DEBUG   : packet_in message not in queue
15:56:06.465  dataplane : DEBUG   : Pkt len 60 in on port 5
15:56:08.465  root      : ERROR   : ** FAILED ASSERTION: Packet in message not received on port 4
15:56:08.465  controller: INFO    : Ignoring listen soc shutdown error
15:56:08.466  controller: ERROR   : Unknown socket ready: <socket._socketobject object at 0x2e60ad0>
15:56:08.466  controller: INFO    : Exiting controller thread
15:56:08.466  controller: INFO    : Ignoring switch soc shutdown error
15:56:08.466  controller: INFO    : Ignoring listen soc shutdown error
15:56:08.466  root      : INFO    : ** END TEST CASE match.IPv4ICMPCode
15:56:08.467  root      : INFO    : *** TEST RUN END  : Fri May 30 15:56:08 2014
15:56:08.467  dataplane : INFO    : Thread exit
