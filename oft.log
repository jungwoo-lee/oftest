13:17:23.737  root      : INFO    : ** START TEST CASE match.IPv4ICMPCode
13:17:23.737  controller: INFO    : Create/listen at 150.225.14.201:6653
13:17:30.536  controller: INFO    : 150.225.14.201:6653: Incoming connection from ('150.225.14.207', 40028)
13:17:30.536  controller: DEBUG   : Msg out: version 4 class hello len 8 xid 4250407454
13:17:30.536  controller: DEBUG   : (message type = 0)
13:17:30.536  controller: INFO    : ----- Message Sent By Controller (not a test step) -----
13:17:30.536  controller: INFO    : hello { xid = 0xfd58121e, elements = [ ] }

13:17:30.537  controller: DEBUG   : Msg in: version 4 class hello len 8 xid 54
13:17:30.558  root      : INFO    : Connected ('150.225.14.207', 40028)
13:17:30.558  controller: DEBUG   : Running transaction 2914595126
13:17:30.558  controller: DEBUG   : Msg out: version 4 class features_request len 8 xid 2914595126
13:17:30.559  controller: DEBUG   : (message type = 5)
13:17:30.559  controller: INFO    : ----- Message Sent By Controller (not a test step) -----
13:17:30.559  controller: INFO    : features_request { xid = 0xadb93136 }

13:17:30.559  controller: DEBUG   : Waiting for transaction 2914595126
13:17:30.559  controller: DEBUG   : Msg in: version 4 class features_reply len 32 xid 2914595126
13:17:30.559  controller: DEBUG   : Matched expected XID 2914595126
13:17:30.570  root      : INFO    : Running match test for match_v3 {
  oxm_list = [
    eth_type { value = 0x800 },
    ip_proto { value = 0x1 },
    icmpv4_code { value = 0x2 }
  ]
}
13:17:30.570  root      : INFO    : (Deleting all flows)
13:17:30.571  controller: DEBUG   : Msg out: version 4 class flow_delete len 56 xid 1084103422
13:17:30.571  controller: DEBUG   : (message type = 14)
13:17:30.571  controller: INFO    : ----- Test Step 1 -----
13:17:30.571  controller: INFO    : flow_delete {
  xid = 0x409e1afe,
  cookie = 0x0,
  cookie_mask = 0x0,
  table_id = 0xff,
  idle_timeout = 0x0,
  hard_timeout = 0x0,
  priority = 0x0,
  buffer_id = 0xffffffff,
  out_port = OFPP_ANY,
  out_group = 0xffffffff,
  flags = 0x0,
  match = match_v3 { oxm_list = [ ] },
  instructions = [ ]
}

13:17:30.571  controller: DEBUG   : Running transaction 2881069499
13:17:30.571  controller: DEBUG   : Msg out: version 4 class barrier_request len 8 xid 2881069499
13:17:30.571  controller: DEBUG   : (message type = 20)
13:17:30.572  controller: INFO    : ----- Test Step 2 -----
13:17:30.572  controller: INFO    : barrier_request { xid = 0xabb9a1bb }

13:17:30.572  controller: DEBUG   : Waiting for transaction 2881069499
13:17:30.573  controller: DEBUG   : Msg in: version 4 class barrier_reply len 8 xid 2881069499
13:17:30.573  controller: DEBUG   : Matched expected XID 2881069499
13:17:30.573  root      : INFO    : (Inserting flow sending matching packets to port 5)
13:17:30.573  controller: DEBUG   : Msg out: version 4 class flow_add len 96 xid 2897980782
13:17:30.574  controller: DEBUG   : (message type = 14)
13:17:30.574  controller: INFO    : ----- Test Step 3 -----
13:17:30.574  controller: INFO    : flow_add {
  xid = 0xacbbad6e,
  cookie = 0x0,
  cookie_mask = 0x0,
  table_id = 0x0,
  idle_timeout = 0x0,
  hard_timeout = 0x0,
  priority = 0x3e8,
  buffer_id = 0xffffffff,
  out_port = 0,
  out_group = 0x0,
  flags = 0x0,
  match = match_v3 { oxm_list = [ eth_type { value = 0x800 }, ip_proto { value = 0x1 }, icmpv4_code { value = 0x2 } ] },
  instructions = [ apply_actions { actions = [ output { port = 5, max_len = 0xffff } ] } ]
}

13:17:35.535  controller: DEBUG   : Msg in: version 4 class echo_request len 8 xid 0
13:17:35.536  controller: DEBUG   : Responding to echo request
13:17:35.536  controller: DEBUG   : Msg out: version 4 class echo_reply len 8 xid 0
13:17:35.536  controller: DEBUG   : (message type = 3)
13:17:35.536  controller: INFO    : ----- Message Sent By Controller (not a test step) -----
13:17:35.536  controller: INFO    : echo_reply { xid = 0x0, data = '' }

13:17:35.579  root      : INFO    : (Inserting match-all flow sending packets to controller)
13:17:35.579  controller: DEBUG   : Msg out: version 4 class flow_add len 80 xid 47430416
13:17:35.580  controller: DEBUG   : (message type = 14)
13:17:35.580  controller: INFO    : ----- Test Step 4 -----
13:17:35.580  controller: INFO    : flow_add {
  xid = 0x2d3bb10,
  cookie = 0x0,
  cookie_mask = 0x0,
  table_id = 0x0,
  idle_timeout = 0x0,
  hard_timeout = 0x0,
  priority = 0x1,
  buffer_id = 0xffffffff,
  out_port = 0,
  out_group = 0x0,
  flags = 0x0,
  match = match_v3 { oxm_list = [ ] },
  instructions = [ apply_actions { actions = [ output { port = OFPP_CONTROLLER, max_len = 0xffff } ] } ]
}

13:17:35.580  controller: DEBUG   : Running transaction 284841954
13:17:35.581  controller: DEBUG   : Msg out: version 4 class barrier_request len 8 xid 284841954
13:17:35.581  controller: DEBUG   : (message type = 20)
13:17:35.581  controller: INFO    : ----- Test Step 5 -----
13:17:35.581  controller: INFO    : barrier_request { xid = 0x10fa57e2 }

13:17:35.581  controller: DEBUG   : Waiting for transaction 284841954
13:17:35.583  controller: DEBUG   : Msg in: version 4 class barrier_reply len 8 xid 284841954
13:17:35.583  controller: DEBUG   : Matched expected XID 284841954
13:17:35.585  root      : INFO    : ----- Test Step 6 -----
13:17:35.585  root      : INFO    : Sending matching packet 'type=5 code=2', expecting output to port 5
13:17:35.585  root      : INFO    : 
	ICMP packet : 
		eth_dst = 00:01:02:03:04:05
		eth_src = 00:06:07:08:09:0a
		dl_vlan_enable = False
		vlan_vid = 0
		vlan_pcp = 0
		ip_src = 192.168.0.1
		ip_dst = 192.168.0.2
		ip_tos = 0
		ip_ttl = 64
		ip_id = 1
		icmp_type = 5
		icmp_code = 2
		icmp_data = 

13:17:35.586  dataplane : DEBUG   : Sending 60 bytes to port 4
13:17:35.586  root      : DEBUG   : Checking for pkt on port 5
13:17:35.587  dataplane : DEBUG   : Pkt len 60 in on port 5
13:17:35.587  dataplane : DEBUG   : Grabbing packet
13:17:35.587  dataplane : DEBUG   : Checking packet from port 5
13:17:35.587  dataplane : DEBUG   : matched Packet length 60 

0000  00 01 02 03 04 05 00 06 07 08 09 0a 08 00 45 00  ..............E.
0010  00 2e 00 01 00 00 40 01 f9 7a c0 a8 00 01 c0 a8  ......@..z......
0020  00 02 05 02 49 4c 00 00 00 00 30 30 30 30 30 30  ....IL....000000
0030  30 30 30 30 30 30 30 30 30 30 30 30              000000000000

13:17:35.588  root      : INFO    : ----- Test Step 7 -----
13:17:35.588  root      : INFO    : Sending matching packet 'type=3 code=2', expecting output to port 5
13:17:35.588  root      : INFO    : 
	ICMP packet : 
		eth_dst = 00:01:02:03:04:05
		eth_src = 00:06:07:08:09:0a
		dl_vlan_enable = False
		vlan_vid = 0
		vlan_pcp = 0
		ip_src = 192.168.0.1
		ip_dst = 192.168.0.2
		ip_tos = 0
		ip_ttl = 64
		ip_id = 1
		icmp_type = 3
		icmp_code = 2
		icmp_data = 

13:17:35.589  dataplane : DEBUG   : Sending 60 bytes to port 4
13:17:35.589  root      : DEBUG   : Checking for pkt on port 5
13:17:35.589  dataplane : DEBUG   : Grabbing packet
13:17:35.589  dataplane : DEBUG   : Out of packets on port 5
13:17:35.589  dataplane : DEBUG   : Did not find packet
13:17:35.590  dataplane : DEBUG   : Pkt len 60 in on port 5
13:17:35.591  dataplane : DEBUG   : Grabbing packet
13:17:35.591  dataplane : DEBUG   : Checking packet from port 5
13:17:35.591  dataplane : DEBUG   : matched Packet length 60 

0000  00 01 02 03 04 05 00 06 07 08 09 0a 08 00 45 00  ..............E.
0010  00 2e 00 01 00 00 40 01 f9 7a c0 a8 00 01 c0 a8  ......@..z......
0020  00 02 03 02 4b 4c 00 00 00 00 30 30 30 30 30 30  ....KL....000000
0030  30 30 30 30 30 30 30 30 30 30 30 30              000000000000

13:17:35.591  root      : INFO    : ----- Test Step 8 -----
13:17:35.591  root      : INFO    : Sending non-matching packet 'type=2 code=1', expecting packet-in
13:17:35.591  root      : INFO    : 
	ICMP packet : 
		eth_dst = 00:01:02:03:04:05
		eth_src = 00:06:07:08:09:0a
		dl_vlan_enable = False
		vlan_vid = 0
		vlan_pcp = 0
		ip_src = 192.168.0.1
		ip_dst = 192.168.0.2
		ip_tos = 0
		ip_ttl = 64
		ip_id = 1
		icmp_type = 3
		icmp_code = 2
		icmp_data = 

13:17:35.593  dataplane : DEBUG   : Sending 60 bytes to port 4
13:17:35.593  controller: DEBUG   : Polling for packet_in
13:17:35.593  controller: DEBUG   : packet_in message not in queue
13:17:35.593  dataplane : DEBUG   : Pkt len 60 in on port 5
13:17:37.593  root      : ERROR   : ** FAILED ASSERTION: Packet in message not received on port 4
13:17:37.594  controller: INFO    : Ignoring listen soc shutdown error
13:17:37.594  controller: ERROR   : Unknown socket ready: <socket._socketobject object at 0x20d6ad0>
13:17:37.594  controller: INFO    : Exiting controller thread
13:17:37.594  controller: INFO    : Ignoring switch soc shutdown error
13:17:37.594  controller: INFO    : Ignoring listen soc shutdown error
13:17:37.594  root      : INFO    : ** END TEST CASE match.IPv4ICMPCode
13:17:37.595  root      : INFO    : *** TEST RUN END  : Fri May 30 13:17:37 2014
13:17:37.595  dataplane : INFO    : Thread exit
